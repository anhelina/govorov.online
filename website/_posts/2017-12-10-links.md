---
layout: post
title:  "Телефонный номер здорового верстальщика"
date:   2017-12-10
---
Зашёл я тут давече на очередной сайт госструктур, и понадобилось мне позвонить по указанному там номеру. Номер ссылочкой, всё по феншую. Как любой *здоровый верстальщик* я ожидал что ссылку можно кликать, что собственно тут же и сделал. Проблема в том, что мои ожидания не оправдались и я увидел сообщение о 404 ошибке.

Начинаем разбираться. Садимся за компьютер, открываем DevTools и видим следующую картину:

```html
<a href="+1 (234) 567-89-10" target="_blank">+1 (234) 567-89-10</a>
```

Начнём с того, что BlackBerry и Safari, сами ищёт что-то похожее на ссылки и пытаются их распарсить. Это не обязательный шаг, задумываться о его необходимости нужно в каждом конкретном случае, но я хочу контролировать происходящее, поэтому выключу автоматический поиск ссылок:

```html
<meta name="format-detection" content="telephone=no"> <!-- Safari -->
<meta http-equiv="x-rim-auto-match" content="none"> <!-- BlackBerry -->
```

Дальше внимательно посмотрим на адрес. Нужно явно указать, что это телефонный номер, и соблюсти формат, понятный браузеру.

```html
<!-- Это может выглядеть так: -->
<a href="tel:12345678910">+1 (234) 567-89-10</a>

<!-- Или так: -->
<a href="tel:1-234-567-8910">+1 (234) 567-89-10</a>
```

Самое время подумать о доступности, и добавить ссылке атрибут `aria-label`:

```html
<a href="tel:1-234-567-8910" aria-label="Телефон поддержки">+1 (234) 567-89-10</a>
```

И, наконец, посмотрим на аттрибут `target`. Ссылка на телефонный номер только инициирует набор номера и нет необходимости открывать ссылку в другой вкладке. Правда, если у вас всё же есть веские основания сделать это, то не забывайте про безопасность и производительность ([подробнее](https://github.com/andrew--r/ui-developer-tips/tree/master/tips/001-target-blank)):

```html
<a href="tel:1-234-567-8910" aria-label="Телефон поддержки" target="_blank" rel="noopener noreferrer">+1 (234) 567-89-10</a>
```

Ссылка в таком формате будет правильно отображаться во всех популярных браузерах. Бинго! 
